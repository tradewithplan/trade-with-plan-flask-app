<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade with Plan - Your Gateway to Professional Trading</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Alpine.js for interactivity -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e2e8f0;
        }
        .gradient-text {
            background: linear-gradient(90deg, #a78bfa, #6b21a8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: inherit;   /* Ensure it’s same as parent */
            font-weight: inherit; /* Keep the boldness */
        }
        .gradient-golden-text {
          background: linear-gradient(90deg, #FFD700, #FFA800, #FFB200, #FFD700);
          background-size: 200%;
          background-position: left;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;           /* For better browser support */
          color: transparent;
          font-size: inherit;              /* Keeps size the same as parent */
          font-weight: inherit;            /* Keeps boldness from parent */
          /* Optional: Enhance effect with some shadow */
          text-shadow: 0 2px 10px rgba(255, 215, 0, 0.25);
        }
        .cta-button {
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.5);
        }
        .cta-button:hover {
            /* Custom styles */
            transform: translateY(-3px);
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.5);
        }
        .cta-buy-button:hover,
        .cta-course-card:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.5);
        }
        .feature-card {
            transition: all 0.3s ease;
            border: 1px solid #27272a;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: #8b5cf6;
            background-color: #1a1a1a;
        }
        .tradingview-widget-container {
            filter: grayscale(30%) contrast(110%);
        }

        /* Purple scrollbar for all course content scroll containers */
        .course-content-scroll::-webkit-scrollbar {
          width: 8px;
        }
        .course-content-scroll::-webkit-scrollbar-track {
          background: transparent;
        }
        .course-content-scroll::-webkit-scrollbar-thumb {
          background-color: #8b5cf6; /* Purple */
          border-radius: 10px;
          border: 2px solid transparent;
          background-clip: content-box;
        }

        /* Firefox scrollbar styling */
        .course-content-scroll {
          scrollbar-width: thin;
          scrollbar-color: #7c3aed transparent;
        }
    </style>
</head>
<body class="antialiased">

    <!-- App container -->
    <div x-data="{ mobileMenuOpen: false }" class="min-h-screen">

        <!-- Header / Navigation -->
        <header class="sticky top-0 z-50 bg-black/50 backdrop-blur-lg border-b border-gray-800">
            <nav class="container mx-auto px-6 py-4">
                <div class="flex items-center justify-between">
                    <!-- Logo -->
                    <a href="{{ url_for('home') }}" class="flex items-center space-x-3">
                        <span class="text-2xl font-bold">
                          <span class="text-white">Trade</span><span class="text-purple-600 gradient-text">with</span><span class="text-white">Plan</span>
                        </span>
                    </a>

                    <!-- Desktop Menu -->
                    <div class="hidden md:flex items-center space-x-8">
                        <a href="#features" class="text-gray-300 hover:text-purple-500 transition-colors">Features</a>
                        <a href="#pricing" class="text-gray-300 hover:text-purple-500 transition-colors">Pricing</a>
                        <a href="#testimonials" class="text-gray-300 hover:text-purple-500 transition-colors">Testimonials</a>

                        <!-- User login/logout logic -->
                        {% if 'user_id' in session %}
                            <!-- If user is logged in, show a styled Logout button -->
                            <a href="{{ url_for('logout') }}" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors">Logout</a>
                        {% else %}
                            <!-- If no user is logged in, show Login and Sign Up links -->
                            <a href="{{ url_for('login') }}" class="text-gray-300 hover:text-purple-500 transition-colors">Login</a>
                            <a href="{{ url_for('signup') }}" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors">Sign Up</a>
                        {% endif %}
                    </div>

                    <!-- Mobile Menu Button -->
                    <div class="md:hidden">
                        <button @click="mobileMenuOpen = !mobileMenuOpen" class="text-white focus:outline-none">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Mobile Menu -->
                <div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false" class="md:hidden mt-4 space-y-4" x-transition>
                    <a href="#features" class="block text-gray-300 hover:text-purple-500 transition-colors">Features</a>
                    <a href="#pricing" class="block text-gray-300 hover:text-purple-500 transition-colors">Pricing</a>
                    <a href="#testimonials" class="block text-gray-300 hover:text-purple-500 transition-colors">Testimonials</a>

                    <!-- Mobile login/logout logic -->
                    {% if 'user_id' in session %}
                        <a href="{{ url_for('logout') }}" class="block bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors text-center">Logout</a>
                    {% else %}
                        <a href="{{ url_for('login') }}" class="block text-gray-300 hover:text-purple-500 transition-colors">Login</a>
                        <a href="{{ url_for('signup') }}" class="block bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors text-center">Sign Up</a>
                    {% endif %}
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main>
             <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {# 
                  - This container is now a floating element.
                  - `fixed`: Positions it relative to the viewport, so it stays put on scroll.
                  - `top-5`: Adds some space from the top of the screen.
                  - `left-1/2 -translate-x-1/2`: This is a common trick to horizontally center a fixed element.
                  - `z-50`: Ensures the message appears on top of other content.
                  - `w-full max-w-xl`: Sets the width and a max-width for larger screens.
                #}
                <div id="flash-messages-container" class="fixed top-15 left-1/2 -translate-x-1/2 z-50 w-full max-w-xl px-6">
                  {% for category, message in messages %}
                    {# 
                      - Added a shadow for better visibility against page content.
                    #}
                    <div class="flash-message flex justify-between items-center p-4 mb-4 text-sm rounded-lg shadow-lg
                      {% if category == 'success' %} bg-green-600 text-white
                      {% elif category == 'error' %} bg-red-900 text-red-300
                      {% elif category == 'warning' %} bg-yellow-900 text-yellow-300
                      {% else %} bg-blue-900 text-blue-300 {% endif %}"
                      role="alert">
                      
                      {# The message content #}
                      <span>{{ message }}</span>

                      {# The close button remains the same #}
                      <button type="button" class="ml-auto -mx-1.5 -my-1.5 bg-transparent text-current rounded-lg focus:ring-2 focus:ring-gray-400 p-1.5 hover:bg-gray-800/50 inline-flex h-8 w-8" data-dismiss-target>
                        <span class="sr-only">Dismiss</span>
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                      </button>
                    </div>
                  {% endfor %}
                </div>
              {% endif %}
            {% endwith %}            

            <!-- Hero Section -->
            <section class="container mx-auto px-6 py-24 md:py-32 text-center">
                <!-- User Name Fetch -->
                {% if 'user_name' in session %}
                    <h2 class="text-3xl md:text-4xl font-extrabold text-white leading-tight mb-4">
                        Welcome back, <span class="gradient-text">{{ session['user_name'] }}</span>!
                    </h2>
                {% endif %}

                <h1 class="text-3xl md:text-6xl font-extrabold text-white leading-tight mb-4">
                    <span class="gradient-text">Kill</span>The<span class="gradient-text">Noise</span>With<span class="gradient-text">ICT</span>.
                </h1>
                <p class="text-lg md:text-xl text-gray-400 max-w-3xl mx-auto mb-8">
                    Liquidity runs the market—learn to hunt it like the smart money. Ready to trade the FVG & iFVG like a pro?
                </p>

                <!-- Buttons -->
                <div class="w-full max-w-sm mx-auto mb-12">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        
                        <a href="#pricing" 
                        class="cta-button bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg text-lg text-center">
                            Explore Plans
                        </a>
                        
                        <a href="#features" 
                        class="cta-button bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg text-lg text-center">
                            Learn More
                        </a>

                    </div>
                </div>

                <!-- Community Stats Section -->
                <!-- Outer container (centered, dark background, rounded corners, shadow, and padding) -->
                <div class="w-full max-w-6xl mx-auto bg-gray-900 border border-gray-800 rounded-2xl shadow-lg p-8">
                    
                    <!-- Responsive grid:
                         - 1 column on mobile 
                         - 2 columns on small screens
                         - 3 columns on large screens -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 items-center">

                        <!-- Heading section (takes 2 columns on small screens, 1 column on large screens) -->
                        <div class="sm:col-span-2 lg:col-span-1 flex flex-col justify-center text-center">
                            <h2 class="text-2xl sm:text-3xl font-extrabold text-white leading-tight">
                                Join Our Thriving <span class="gradient-text">Community</span>
                            </h2>
                        </div>

                        <!-- Stat Block #1: Years of Market Battles -->
                        <div class="text-center">
                            <p class="gradient-text text-4xl lg:text-5xl font-bold leading-tight">05+</p>
                            <p class="text-gray-400 mt-1 text-sm font-medium">Years of Market Battles</p>
                        </div>

                        <!-- Stat Block #2: Students Trained -->
                        <div class="text-center">
                            <p class="gradient-text text-4xl lg:text-5xl font-bold leading-tight">500+</p>
                            <p class="text-gray-400 mt-1 text-sm font-medium">Students Who Learned to Spot Institutional Moves Here</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Who is Your Mentor Section -->
            <section id="mentor" class="bg-black py-20">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-white">
                            Who is Your <span class="gradient-text">Mentor?</span>
                        </h2>
                        <p class="text-gray-400 mt-2 max-w-2xl mx-auto">
                            Meet the mind behind <span class="gradient-text font-bold">Trade with Plan</span> — a seasoned trader with years of market experience,
                            dedicated to guiding you through every step of your trading journey.
                        </p>
                    </div>

                    <div class="flex flex-col lg:flex-row items-center lg:items-center gap-8 lg:gap-12">
                        <!-- Mentor Image -->
                        <div class="flex-shrink-0">
                            <img src="{{ url_for('static', filename='mentor.jpg') }}" alt="Mentor Photo"
                                 class="rounded-2xl shadow-xl border border-gray-800 w-48 h-48 sm:w-64 sm:h-64 object-cover mx-auto lg:mx-0">
                        </div>

                        <!-- Mentor Info -->
                        <div class="text-center lg:text-left">
                            <h3 class="text-xl sm:text-2xl mb-3">
                                <span class="gradient-text font-bold">Naveen Kumar</span>
                            </h3>
                            <p class="text-gray-400 mb-4 text-sm sm:text-base">
                                Trading changed my life, but not overnight. Over the past five years I've learned that real success comes from understanding markets, not just predicting them. 
                                My approach is simple: watch how institutions actually trade, learn to read their footprints in price action, and develop the patience to wait for high-probability setups. 
                                No magic indicators, no unrealistic promises - just practical insights from someone who's been through all the mistakes so you don't have to. 
                                If you're ready to move beyond gambling and start trading with clarity, I can show you how.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section id="features" class="py-20">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-white">Why Choose <span class="gradient-text">Trade with Plan</span>?</h2>
                        <p class="text-gray-400 mt-2">Everything you need to analyze the market and trade effectively.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                        <!-- Features remain the same -->
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <h3 class="text-2xl font-bold text-white mb-3">Lifetime Access</h3>
                            <p class="text-gray-400">No deadlines, no rush—master the material at your pace. Revisit, refresh, or dive deeper whenever you want. One payment, unlimited learning. Your knowledge never expires!</p>
                        </div>
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <h3 class="text-2xl font-bold text-white mb-3">Prove Your Skills & Get Hired</h3>
                            <p class="text-gray-400">Crush this challenge and we won’t just applaud—we’ll recruit you. Trade with our team, earn real opportunities, and turn talent into success. The market rewards winners—will you be one?</p>
                        </div>
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <h3 class="text-2xl font-bold text-white mb-3">The Ultimate Trading Power Combo</h3>
                            <p class="text-gray-400">Why choose between education and profit? Get both. Our high-accuracy signals put money in your pocket NOW while our course turns you into a self-sufficient trader. No guesswork—just growing profits and unshakable skills.</p>
                        </div>
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <h3 class="text-2xl font-bold text-white mb-3">Unlock Your Funded Account</h3>
                            <p class="text-gray-400">Pass your funding challenge faster with our battle-tested strategies and expert coaching. No stress—just profits. Your funded account awaits. Let’s go!</p>
                        </div>
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <h3 class="text-2xl font-bold text-white mb-3">Choose Your Winning Strategy</h3>
                            <p class="text-gray-400">Scalp, swing, or position trade—we’ve got a proven system for your style. Pick your edge and start winning today!</p>
                        </div>
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <h3 class="text-2xl font-bold text-white mb-3">24/7 Support</h3>
                            <p class="text-gray-400">Our dedicated support team is always available to help you with any questions or issues.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pricing Section -->
            <section id="pricing" class="bg-black py-20">
              <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">
                        Find the <span class="gradient-text">Perfect Plan</span>
                    </h2>
                    <p class="text-gray-400 mt-2">Start for less, then upgrade for more power.</p>
                </div>

                <div class="flex flex-col lg:flex-row justify-center items-stretch gap-8">

                    <div data-modal-id="modal-basic" class="feature-card flex flex-col w-full max-w-sm p-8 rounded-xl bg-gray-900 border-2 border-gray-700 hover:scale-105 transition-transform cta-course-card">
                        <h3 class="text-2xl font-bold text-white text-center">ICT “Forever Model”</h3>
                        <p class="text-center text-gray-400 mt-2 mb-6">(Advanced)</p>
                        <p class="gradient-golden-text text-center text-4xl font-extrabold text-white mb-6">
                            $29<span class="text-lg font-medium text-gray-400">(&#x20B9;2,599)</span>
                        </p>
                        <ul class="space-y-4 text-gray-300 mb-8 flex-grow">
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Weekday Live Market Support</li>
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Lifetime Course Access</li>
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Personal Doubt Sessions</li>
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Free 1-Month Premium Signals<br>(worth $29)</li>
                        </ul>
                        
                        <div class="mt-auto">
                            {% if 'ICT "Forever Model"' in purchased_courses %}
                                <div class="flex flex-col space-y-3">
                                    <div class="flex w-full cursor-default items-center justify-center gap-2 rounded-lg bg-gradient-to-br from-amber-300 via-yellow-400 to-amber-500 py-3 font-bold text-amber-900 shadow-lg shadow-yellow-500/30">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                        </svg>
                                        <span>Purchased</span>
                                    </div>
                                    <a href="{{ url_for('course1') }}" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg text-center transition-colors cta-buy-button">
                                        View Course
                                    </a>
                                </div>
                            {% else %}
                                <form action="{{ url_for('purchase', course_name='ICT \"Forever Model\"') }}" method="post">
                                    <button type="submit" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition-colors cta-buy-button">Choose Plan</button>
                                </form>
                            {% endif %}
                        </div>
                    </div>

                    <div data-modal-id="modal-advance" class="feature-card flex flex-col w-full max-w-sm p-8 rounded-xl bg-gray-900 border-4 border-purple-500 shadow-lg relative hover:scale-105 transition-transform cta-course-card">
                        <span class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase z-10">Most Popular</span>
                        <h3 class="text-2xl font-bold text-white text-center">Basic to Advanced</h3>
                        <p class="text-center text-gray-400 mt-2 mb-6">(3 ICT Models Covered)</p>
                        <p class="gradient-golden-text text-center text-4xl font-extrabold text-white mb-6">
                            $79<span class="text-lg font-medium text-gray-400">(&#x20B9;6,999)</span>
                        </p>
                        <ul class="space-y-4 text-gray-300 mb-8 flex-grow">
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Everything in "ICT Forever Model"</li>
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>From Zero to ICT Pro</li>
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Choose Your Suitable Strategy<br>(2 more models added)</li>
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Personal Doubt Sessions</li>
                            <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Free 1-Month Premium Signals<br>(worth $29)</li>
                        </ul>
                        <div class="mt-auto">
                            {% if 'Basic to Advanced' in purchased_courses %}
                                <div class="flex flex-col space-y-3">
                                    <div class="flex w-full cursor-default items-center justify-center gap-2 rounded-lg bg-gradient-to-br from-amber-300 via-yellow-400 to-amber-500 py-3 font-bold text-amber-900 shadow-lg shadow-yellow-500/30">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                        </svg>
                                        <span>Purchased</span>
                                    </div>
                                    <a href="{{ url_for('course2') }}" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg text-center transition-colors cta-buy-button">
                                        View Course
                                    </a>
                                </div>
                            {% else %}
                                <form action="{{ url_for('purchase', course_name='Basic to Advanced') }}" method="post">
                                    <button type="submit" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition-colors cta-buy-button">Choose Plan</button>
                                </form>
                            {% endif %}
                        </div>
                    </div>

                    <div data-modal-id="modal-pro" class="feature-card flex flex-col w-full max-w-sm p-8 rounded-xl bg-gray-900 border-2 border-gray-700 hover:scale-105 transition-transform cta-course-card">
                        <h3 class="text-2xl font-bold text-white text-center">1-1 Personal Mentorship</h3>
                        <p class="text-center text-gray-400 mt-2 mb-6">(Only <span class="font-bold">2 Slots</span> per month)</p>
                        <p class="gradient-golden-text text-center text-4xl font-extrabold text-white mb-6">
                            $285<span class="text-lg font-medium text-gray-400">(&#x20B9;24,999)</span>
                        </p>
                        <ul class="space-y-4 text-gray-300 mb-8 flex-grow">
                                <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Everything in "Basic to Advanced"</li>
                                <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Free 5k Funded Account</li>
                                <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Funded Account Passing Assistance</li>
                                <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Personal Doubt Clearing Sessions</li>
                                <li class="flex items-start"><svg class="w-5 h-5 flex-shrink-0 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Free 3-Months Premium Signals<br>(worth $89)</li>
                        </ul>
                        <div class="mt-auto">
                            {% if '1-1 Personal Mentorship' in purchased_courses %}
                                <div class="flex flex-col space-y-3">
                                    <div class="flex w-full cursor-default items-center justify-center gap-2 rounded-lg bg-gradient-to-br from-amber-300 via-yellow-400 to-amber-500 py-3 font-bold text-amber-900 shadow-lg shadow-yellow-500/30">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                                        </svg>
                                        <span>Purchased</span>
                                    </div>
                                    <a href="{{ url_for('course3') }}" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg text-center transition-colors cta-buy-button">
                                        View Course
                                    </a>
                                </div>
                            {% else %}
                                <form action="{{ url_for('purchase', course_name='1-1 Personal Mentorship') }}" method="post">
                                    <button type="submit" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-lg transition-colors cta-buy-button">Choose Plan</button>
                                </form>
                            {% endif %}
                        </div>
                    </div>

                </div>
              </div>

              <!-- Modals -->

              <!-- Course 1: ICT “FOREVER MODEL” (Advanced) -->
              <div id="modal-basic" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
                <div class="bg-gray-900 rounded-lg w-full max-w-md sm:max-w-lg lg:max-w-2xl relative max-h-[90vh] overflow-hidden
                            p-8 sm:p-10 md:p-12"> <!-- increased padding -->
                  <button onclick="closeModal('modal-basic')" class="absolute top-4 right-4 text-white text-3xl">&times;</button> <!-- bigger close button with margin -->
                  <h2 class="text-2xl font-bold text-white mb-6 gradient-text">ICT “Forever Model” - Course Content</h2> <!-- more bottom margin -->

                  <div class="course-content-scroll max-h-[70vh] overflow-y-auto pr-3 text-gray-300">
                    <!-- <p class="mb-4">Topics covered:</p> -->
                    <ol class="list-decimal list-inside space-y-2">
                      <li>What is Liquidity BSL, SSL.</li>
                      <li>What is FVG and How to Find the Right FVG.</li>
                      <li>What is iFVG and What is different between FVG & iFVG.</li>
                      <li>How to Find Trading BIAS.</li>
                      <li>Three Time frame layer Analysis of Liquidity.</li>
                      <li>Where and how to take entry using the PD Arrays (FVG, iFVG).</li>
                      <li>Complete Setup will be Explained (TP, SL, BE, RR).</li>
                      <li>Risk management, Psychology.</li>
                    </ol>
                  </div>
                </div>
              </div>

              <!-- Course 2: BASIC TO ADVANCED (3 ICT MODELS COVERED) -->
              <div id="modal-advance" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
                <div class="bg-gray-900 rounded-lg w-full max-w-md sm:max-w-lg lg:max-w-2xl relative max-h-[90vh] overflow-hidden
                            p-8 sm:p-10 md:p-12">
                  <button onclick="closeModal('modal-advance')" class="absolute top-4 right-4 text-white text-3xl">&times;</button>
                  <h2 class="text-2xl font-bold text-white mb-6 gradient-text">Basic to Advanced - Course Content</h2>

                  <div class="course-content-scroll max-h-[70vh] overflow-y-auto pr-3 text-gray-300">
                    <p class="mb-6"><strong>We focus on three markets:</strong> Indian Market, Forex, Crypto</p>

                    <p class="mb-4"><strong>(FVG x TBS Model)</strong></p>
                    <ol class="list-decimal list-inside space-y-2 mb-6">
                      <li>Types of Trading</li>
                      <li>Trend Analysis</li>
                      <li>Option Buying vs Option Selling</li>
                      <li>What is Candlesticks & Time Frame</li>
                      <li>What is ICT PO3 (AMD)</li>
                      <li>Explanation Difference Between FVG & iFVG</li>
                      <li>How to Find Right FVG</li>
                      <li>PD Array Explanation</li>
                      <li>How Market Manipulates Retailers</li>
                      <li>What is Liquidity</li>
                      <li>What is Orderflow</li>
                      <li>Explanation About BSL & SSL in ICT</li>
                      <li>Usage of Breaker & MSS in ICT</li>
                      <li>Entry Based on TBS & FVG</li>
                      <li>Forex Introduction</li>
                      <li>Importance of TBS & TWS</li>
                      <li>Spread, Brokerage, Lots Explanation</li>
                      <li>Types of Pairs with High Volume</li>
                      <li>TP, SL Explanation</li>
                      <li>(50 - 50) Strategy to Maximize Profits</li>
                      <li>Crypto Introduction</li>
                      <li>Crypto Scalping FVG & TBS Confirmation</li>
                      <li>Lot Size Management</li>
                      <li>Importance of Trading Psychology</li>
                    </ol>

                    <p class="mb-4"><strong>(A+ Setup)</strong></p>
                    <ol class="list-decimal list-inside space-y-2 mb-6">
                      <li>Session Based Entry Setup</li>
                      <li>Special Tool to Find the Sessions</li>
                      <li>How to Find Sessions Liquidity Points</li>
                      <li>How to Use FVG, iFVG for Entry</li>
                      <li>How to Set TP, SL, Breakeven, Trailing SL for A+ Model</li>
                    </ol>

                    <p class="mb-4"><strong>(ICT Forever Model)</strong></p>
                    <ol class="list-decimal list-inside space-y-2">
                      <li>What is Liquidity BSL, SSL.</li>
                      <li>What is FVG and How to Find the Right FVG.</li>
                      <li>What is iFVG and What is Different Between FVG & iFVG.</li>
                      <li>How to Find Trading BIAS.</li>
                      <li>Three Time Frame Layer Analysis of Liquidity.</li>
                      <li>Where and How to Take Entry Using the PD Arrays (FVG, iFVG).</li>
                      <li>Complete Setup will be Explained (TP, SL, BE, RR).</li>
                      <li>Risk Management, Psychology.</li>
                    </ol>
                  </div>
                </div>
              </div>

              <!-- Course 3: Pro Plan -->
              <div id="modal-pro" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50">
                <div class="bg-gray-900 rounded-lg w-full max-w-md sm:max-w-lg lg:max-w-2xl relative max-h-[90vh] overflow-hidden p-8 sm:p-10 md:p-12">
                  <button onclick="closeModal('modal-pro')" class="absolute top-4 right-4 text-white text-3xl">&times;</button>
                  <h2 class="text-2xl font-bold text-white mb-6 gradient-text">1-1 Personal Mentorship - Course Content</h2>

                  <div class="course-content-scroll max-h-[70vh] overflow-y-auto pr-3 text-gray-300">
                    <p class="mb-4"><strong>Key Metrics of 1-1</strong></p>
                    <ol class="list-decimal list-inside space-y-2 mb-6">
                      <li>Personalized method to pass funded accounts.</li>
                      <li>How to increase funding to max allocations.</li>
                      <li>In and out about Prop firms.</li>
                      <li>One month course duration.</li>
                      <li>Weekly 3 sessions.</li>
                      <li>All sessions will be in practical mode to understand clearly.</li>
                    </ol>

                    <p class="mb-4"><strong>We focus on three markets:</strong> Indian Market, Forex, Crypto</p>

                    <p class="mb-4"><strong>(FVG x TBS Model)</strong></p>
                    <ol class="list-decimal list-inside space-y-2 mb-6">
                      <li>Types of Trading</li>
                      <li>Trend Analysis</li>
                      <li>Option Buying vs Option Selling</li>
                      <li>What is Candlesticks & Time Frame</li>
                      <li>What is ICT PO3 (AMD)</li>
                      <li>Explanation Difference Between FVG & iFVG</li>
                      <li>How to Find Right FVG</li>
                      <li>PD Array Explanation</li>
                      <li>How Market Manipulates Retailers</li>
                      <li>What is Liquidity</li>
                      <li>What is Orderflow</li>
                      <li>Explanation About BSL & SSL in ICT</li>
                      <li>Usage of Breaker & MSS in ICT</li>
                      <li>Entry Based on TBS & FVG</li>
                      <li>Forex Introduction</li>
                      <li>Importance of TBS & TWS</li>
                      <li>Spread, Brokerage, Lots Explanation</li>
                      <li>Types of Pairs with High Volume</li>
                      <li>TP, SL Explanation</li>
                      <li>(50 - 50) Strategy to Maximize Profits</li>
                      <li>Crypto Introduction</li>
                      <li>Crypto Scalping FVG & TBS Confirmation</li>
                      <li>Lot Size Management</li>
                      <li>Importance of Trading Psychology</li>
                    </ol>

                    <p class="mb-4"><strong>(A+ Setup)</strong></p>
                    <ol class="list-decimal list-inside space-y-2 mb-6">
                      <li>Session Based Entry Setup</li>
                      <li>Special Tool to Find the Sessions</li>
                      <li>How to Find Sessions Liquidity Points</li>
                      <li>How to Use FVG, iFVG for Entry</li>
                      <li>How to Set TP, SL, Breakeven, Trailing SL for A+ Model</li>
                    </ol>

                    <p class="mb-4"><strong>(ICT Forever Model)</strong></p>
                    <ol class="list-decimal list-inside space-y-2">
                      <li>What is Liquidity BSL, SSL.</li>
                      <li>What is FVG and How to Find the Right FVG.</li>
                      <li>What is iFVG and What is Different Between FVG & iFVG.</li>
                      <li>How to Find Trading BIAS.</li>
                      <li>Three Time Frame Layer Analysis of Liquidity.</li>
                      <li>Where and How to Take Entry Using the PD Arrays (FVG, iFVG).</li>
                      <li>Complete Setup will be Explained (TP, SL, BE, RR).</li>
                      <li>Risk Management, Psychology.</li>
                    </ol>
                  </div>
                </div>
              </div>
            </section>

            <script>
            function openModal(id) {
              document.getElementById(id).classList.remove('hidden');
              document.getElementById(id).classList.add('flex');
            }
            function closeModal(id) {
              document.getElementById(id).classList.add('hidden');
              document.getElementById(id).classList.remove('flex');
            }
            </script>
            <script>
                // --- Modal Control Functions ---

                /**
                 * Opens a modal by its ID.
                 * @param {string} modalId - The ID of the modal element to show.
                 */
                function openModal(modalId) {
                    const modal = document.getElementById(modalId);
                    if (modal) {
                        modal.classList.remove('hidden');
                        modal.classList.add('flex');
                        document.body.style.overflow = 'hidden'; // Prevent background scrolling
                    }
                }

                /**
                 * Closes a modal by its ID.
                 * @param {string} modalId - The ID of the modal element to hide.
                 */
                function closeModal(modalId) {
                    const modal = document.getElementById(modalId);
                    if (modal) {
                        modal.classList.add('hidden');
                        modal.classList.remove('flex');
                        document.body.style.overflow = 'auto'; // Restore background scrolling
                    }
                }

                // --- Event Listener Logic ---

                // Wait for the entire webpage to be fully loaded before running the script.
                document.addEventListener('DOMContentLoaded', () => {

                    // Select all the pricing cards on the page.
                    const courseCards = document.querySelectorAll('.cta-course-card');

                    // Loop through each pricing card to add a click listener.
                    courseCards.forEach(card => {
                        card.addEventListener('click', (event) => {

                            // Check if the click happened on the 'Choose Plan' button or its container form.
                            // The .closest() method checks the clicked element and its parents.
                            const isBuyButton = event.target.closest('.cta-buy-button');

                            // If the buy button was clicked, do nothing.
                            // This allows the form to submit normally for the purchase action.
                            if (isBuyButton) {
                                return;
                            }

                            // If the click was anywhere else on the card, get the modal ID from the card's 'data-modal-id' attribute.
                            const modalId = card.dataset.modalId;

                            // If a modal ID was found, call the openModal function to show it.
                            if (modalId) {
                                openModal(modalId);
                            }
                        });
                    });

                    // Add event listener to close modal when clicking on the background overlay
                    const modals = document.querySelectorAll('.fixed.inset-0');
                    modals.forEach(modal => {
                        modal.addEventListener('click', (event) => {
                            // If the click is on the modal overlay itself (not the content inside)
                            if (event.target === modal) {
                                closeModal(modal.id);
                            }
                        });
                    });
                });
            </script>

            <!-- Testimonial -->
            <section id="testimonials" class="py-20">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-white">Trusted by <span class="gradient-text">Traders Worldwide</span></h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                        <!-- Testimonial 1 -->
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <p class="text-gray-300 mb-6">"The charting tools are phenomenal. I can perform my technical analysis faster and more accurately than ever before. A game-changer for my strategy."</p>
                            <div class="flex items-center">
                                <div class="ml-4">
                                    <p class="font-bold text-white">Naveen K.</p>
                                    <p class="text-sm text-gray-500">Day Trader</p>
                                </div>
                            </div>
                        </div>
                        <!-- Testimonial 2 -->
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <p class="text-gray-300 mb-6">"I love the clean interface and the dark mode is easy on the eyes during long trading sessions. The platform is incpurpleibly fast and reliable."</p>
                             <div class="flex items-center">
                                <div class="ml-4">
                                    <p class="font-bold text-white">Priya S.</p>
                                    <p class="text-sm text-gray-500">Swing Trader</p>
                                </div>
                            </div>
                        </div>
                        <!-- Testimonial 3 -->
                        <div class="feature-card p-8 rounded-lg bg-gray-900">
                            <p class="text-gray-300 mb-6">"As a beginner, the paper trading feature was invaluable. It gave me the confidence to start trading with real money. Highly recommended!"</p>
                             <div class="flex items-center">
                                <div class="ml-4">
                                    <p class="font-bold text-white">Amit R.</p>
                                    <p class="text-sm text-gray-500">New Investor</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Us Section -->
            <section id="contact" class="bg-black py-20">
              <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-4 text-white">Contact Us</h2>
                <p class="text-lg text-gray-400 mb-8">
                  Feel free to drop your message here.
                </p>

                <form id="contact-form" class="space-y-4 max-w-3xl mx-auto"
                  action="https://formsubmit.co/alwysbhpy@gmail.com"
                  method="POST">

                  <!-- FormSubmit settings -->
                  <input type="hidden" name="_captcha" value="false">
                  <input type="hidden" name="_next" value="">

                  <div id="form-feedback" class="h-6 text-sm"></div>

                  <div class="grid md:grid-cols-2 gap-4">
                    <input type="text" id="name" name="Name" placeholder="Name" required
                      class="form-input w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white">
                    <input type="tel" id="phone" name="Phone" placeholder="Phone Number" required
                      pattern="[0-9]{10,15}"
                      title="Please enter a valid phone number"
                      class="form-input w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white">
                  </div>

                  <div>
                      <input type="email" id="email" name="E-mail" placeholder="Email" required
                      class="form-input w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white">
                  </div>

                  <textarea id="message" name="Message" rows="5" placeholder="Message" required
                    class="form-input w-full p-3 rounded-lg bg-gray-900 border border-gray-700 text-white"></textarea>

                  <button type="submit"
                    class="bg-purple-600 hover:bg-purple-700 font-semibold px-8 py-3 rounded-full text-white">
                    Send Message
                  </button>
                </form>
              </div>
            </section>

            <!-- Instagram floating icon -->
            <a href="https://www.instagram.com/trade.with.plan/" 
               class="fixed bottom-24 right-5 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500 text-white shadow-lg transition-transform duration-200 ease-in-out hover:scale-110 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2"
               target="_blank" 
               rel="noopener noreferrer"
               aria-label="Follow on Instagram"
               title="Follow on Instagram">
               
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-instagram" viewBox="0 0 16 16">
                  <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.703.01 5.556 0 5.829 0 8s.01 2.444.048 3.297c.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.556 15.99 5.829 16 8 16s2.444-.01 3.297-.048c.852-.04 1.433-.174 1.942-.372.526-.205.972-.478 1.417-.923.445-.444.718-.891.923-1.417.198-.51.333-1.09.372-1.942C15.99 10.444 16 10.171 16 8s-.01-2.444-.048-3.297c-.04-.852-.174-1.433-.372-1.942a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.942-.372C10.444.01 10.171 0 8 0zm0 1.442c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.486.039.843.047 1.096.047 3.232s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.232-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.598-.919c-.11-.282-.24-.705-.275-1.486-.038-.843-.046-1.096-.046-3.232s.008-2.389.046-3.232c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.843-.038 1.096-.047 3.232-.047zM8 4.9a3.1 3.1 0 1 0 0 6.2 3.1 3.1 0 0 0 0-6.2zM8 10a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm4.939-6.49a1.2 1.2 0 1 0-2.4 0 1.2 1.2 0 0 0 2.4 0z"/>
                </svg>
            </a>

            <!-- Whatsapp floating icon -->
            <a href="https://wa.me/918870284043" 
               class="fixed bottom-5 right-5 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-[#25D366] text-white shadow-lg transition-transform duration-200 ease-in-out hover:scale-110 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2"
               target="_blank" 
               rel="noopener noreferrer"
               aria-label="Chat on WhatsApp"
               title="Chat on WhatsApp">
               
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16">
                  <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
                </svg>
            </a>
            
            <script>
              const form = document.getElementById('contact-form');
              const feedback = document.getElementById('form-feedback');

              form.addEventListener('submit', function (e) {
                e.preventDefault(); // stop default submission for feedback handling
                feedback.style.color = '#a78bfa';
                feedback.textContent = 'Sending...';

                const formData = new FormData(form);

                fetch(form.action, {
                  method: 'POST',
                  body: formData,
                  headers: { 'Accept': 'application/json' }
                })
                .then(response => {
                  if (response.ok) {
                    feedback.style.color = '#22c55e';
                    feedback.textContent = '✅ Thank you! Your message has been sent.';
                    form.reset();
                  } else {
                    feedback.style.color = '#ef4444';
                    feedback.textContent = '❌ Something went wrong. Please try again.';
                  }
                })
                .catch(() => {
                  feedback.style.color = '#ef4444';
                  feedback.textContent = '❌ Network error. Please try again.';
                });
              });
            </script>
        </main>

        <!-- Footer (Loaded from footer.html)-->
        {% include 'footer.html' %}
        <!-- End of footer block -->

    </div>
    <script>
      // Function to handle the dismissal of a flash message
      function dismissMessage(element) {
        if (!element) return;
        
        // Add a fade-out effect using Tailwind CSS transition classes
        element.style.transition = 'opacity 0.5s ease-out';
        element.style.opacity = '0';

        // Wait for the transition to complete before removing the element from the DOM
        setTimeout(() => {
          element.remove();
        }, 500); // 500ms matches the transition duration
      }

      // Find all flash messages on the page
      const flashMessages = document.querySelectorAll('.flash-message');

      flashMessages.forEach(message => {
        // Find the close button within each message
        const closeButton = message.querySelector('[data-dismiss-target]');
        
        // Add a click event listener to the close button
        if (closeButton) {
          closeButton.addEventListener('click', () => {
            dismissMessage(message);
          });
        }

        // Set a timeout to automatically dismiss the message after 5 seconds
        setTimeout(() => {
          dismissMessage(message);
        }, 4000); // 4000 milliseconds = 4 seconds
      });
    </script>
  </body>
</html>
